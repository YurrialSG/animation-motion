<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>AudioMotion-analyzer</title>
</head>

<style>

    * {
        padding: 0;
        margin: 0;
    }

    #animation-audio {
        width: 144px;
        height: 108px;
        margin: 20px auto 20px;
    }

    #audio {
        display: flex;
        margin: 0 auto;
    }
</style>


<body>
	<div id="animation-audio"></div>
    <audio id="audio-sound" src="https://casthttps1.suaradionanet.net/13280/stream" controls crossorigin="anonymous"></audio>

    <script src='./audioMotion-analyzer.js'></script>
	<script type="module">
		try {
			var audioMotion = new AudioMotionAnalyzer(
				document.getElementById('animation-audio'),
				{
					source: document.getElementById('audio-sound'),
                    // set your preferred options here
				}
            );
            const options = {
                bgColor: '#FFFF', // background color (optional) - defaults to '#111'
                colorStops: [       // list your gradient colors in this array (at least 2 entries are required)
                '#12652D',                      // colors may be defined in any valid CSS format
                { pos: 1, color: '#12652D' }, // use an object to adjust the position (0 to 1) of a color
                'hsl( 120, 100%, 50% )'     // colors may be defined in any valid CSS format
                ]
            }
            audioMotion.registerGradient( 'my-grad', options );
            audioMotion.setOptions({
                fftSize: 8192, //Frequência
                gradient: 'my-grad', //Nome gradiente adicionado anteriormente
                maxFreq: 22000, //Max Frequência
                minFreq: 250, //Min Frequência
                mode: 5, //Desenho linhas de animação - 0 até 10
                radial: false, //Modo em circulo
                reflexAlpha: 1,
                reflexBright: 1,
                showBgColor: true, //Exibir cor de fundo
                showScale: false, //Exibir escala a baixo
            });
		}
		catch( err ) {
			console.log(err)
		}
	</script>
</body>
</html>
